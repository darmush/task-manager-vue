import{o,c as s,z as q,a as i,s as E,r as y,A as U,F as _,l as T,u as v,b as f,w as a,p as Z,n as h,m as w,j as g,v as A,d as b,f as $,k as F,T as H,q as B,e as M,x as K}from"./index-CT5RfRiI.js";import{_ as N,u as O,a as P,b as D}from"./tags-mfra6I1X.js";import{D as R,a as G}from"./Modal-BMXik_kU.js";const J={},Q={class:"stroke-gray-text-light stroke-icon-width h-5 w-5",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function W(j,u){return o(),s("svg",Q,u[0]||(u[0]=[q('<path d="M12.5 6C12.7761 6 13 5.77614 13 5.5C13 5.22386 12.7761 5 12.5 5C12.2239 5 12 5.22386 12 5.5C12 5.77614 12.2239 6 12.5 6Z"></path><path d="M16.5 10C16.7761 10 17 9.77614 17 9.5C17 9.22386 16.7761 9 16.5 9C16.2239 9 16 9.22386 16 9.5C16 9.77614 16.2239 10 16.5 10Z"></path><path d="M7.5 7C7.77614 7 8 6.77614 8 6.5C8 6.22386 7.77614 6 7.5 6C7.22386 6 7 6.22386 7 6.5C7 6.77614 7.22386 7 7.5 7Z"></path><path d="M5.5 12C5.77614 12 6 11.7761 6 11.5C6 11.2239 5.77614 11 5.5 11C5.22386 11 5 11.2239 5 11.5C5 11.7761 5.22386 12 5.5 12Z"></path><path d="M12.5 6C12.7761 6 13 5.77614 13 5.5C13 5.22386 12.7761 5 12.5 5C12.2239 5 12 5.22386 12 5.5C12 5.77614 12.2239 6 12.5 6Z" stroke-linecap="round" stroke-linejoin="round"></path><path d="M16.5 10C16.7761 10 17 9.77614 17 9.5C17 9.22386 16.7761 9 16.5 9C16.2239 9 16 9.22386 16 9.5C16 9.77614 16.2239 10 16.5 10Z" stroke-linecap="round" stroke-linejoin="round"></path><path d="M7.5 7C7.77614 7 8 6.77614 8 6.5C8 6.22386 7.77614 6 7.5 6C7.22386 6 7 6.22386 7 6.5C7 6.77614 7.22386 7 7.5 7Z" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5.5 12C5.77614 12 6 11.7761 6 11.5C6 11.2239 5.77614 11 5.5 11C5.22386 11 5 11.2239 5 11.5C5 11.7761 5.22386 12 5.5 12Z" stroke-linecap="round" stroke-linejoin="round"></path><path d="M11 1C5.5 1 1 5.5 1 11C1 16.5 5.5 21 11 21C11.926 21 12.648 20.254 12.648 19.312C12.648 18.875 12.468 18.477 12.211 18.187C11.921 17.898 11.773 17.535 11.773 17.062C11.7692 16.8419 11.8098 16.6233 11.8922 16.4192C11.9747 16.2151 12.0975 16.0298 12.2531 15.8741C12.4088 15.7185 12.5941 15.5957 12.7982 15.5132C13.0023 15.4308 13.2209 15.3902 13.441 15.394H15.437C18.488 15.394 20.992 12.891 20.992 9.84C20.965 5.012 16.461 1 11 1Z" stroke-linecap="round" stroke-linejoin="round"></path>',9)]))}const X=N(J,[["render",W]]),Y={},ee={class:"stroke-gray-text-light stroke-icon-width w-5 h-5",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function te(j,u){return o(),s("svg",ee,u[0]||(u[0]=[i("path",{d:"M1 8H15M8 1V15","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))}const oe=N(Y,[["render",te]]),le={class:"flex flex-col gap-2 mx-auto max-w-sm my-6"},ne=["onClick"],se={class:"flex flex-row w-full"},re=["onUpdate:modelValue","id","placeholder"],ae={key:0,class:"flex flex-row gap-2"},ie=["onClick"],ue={class:"flex flex-row w-full"},de=["id"],ce={key:1,class:"text-center mt-3"},ve={__name:"EditTagsView",setup(j){const u=O(),p=P(),{tags:x}=E(p),k=p.colors,t=y({id:null,name:"",value:null,color:null}),C=y(!1),z=Array.from({length:x.value.length},r=>!1),d=U(z),c=y(!1);function m(r){d[r]=d[r]!=!0}function I(r){C.value=!1,p.deleteTag(r),u.editTaskByDeletedTag(r),d.pop(),S()}function L(){if(t.value.name){t.value.color=t.value.color?t.value.color:k[0],t.value.value=t.value.name,t.value.id=x.value.length;const r=Object.assign({},t.value);p.createTag(r),d.push(!1),S()}}function S(){t.value.id=null,t.value.name="",t.value.value="",t.value.color=null}return(r,l)=>{const V=K("click-outside");return o(),s("div",le,[l[7]||(l[7]=i("h2",{class:"text-center font-semibold text-lg"},"Edit Tags",-1)),(o(!0),s(_,null,T(v(x),e=>(o(),s("div",{key:e,class:"flex flex-row gap-2"},[f(w,{onClick:$(n=>{m(e.id)},["stop"]),style:Z(e.id==0||d[e.id]?"white-unactive":"white"),class:h(["relative shrink-0 basis-1/6 before:absolute before:z-20 before:left-[50%] before:top-[50%] before:-translate-y-2/4 before:-translate-x-2/4 before:rounded-full before:w-4 before:h-4",["before:bg-"+e.color,e.id!=0?"":"bg-gray-light cursor-not-allowed pointer-events-none"]])},{default:a(()=>[g((o(),b(D,{isShow:d[e.id],attach:"right",class:"rounded-t-button-rounded rounded-b-button-rounded min-h-[38px]"},{default:a(()=>[(o(!0),s(_,null,T(v(k),n=>(o(),s("li",{class:"flex flex-row justify-between items-center gap-3 px-2 py-2 text-nowrap cursor-pointer hover:bg-gray-light first:rounded-l-button-rounded last:rounded-r-button-rounded",key:n,onClick:$(fe=>{m(e.id),e.color=n},["stop"])},[i("div",{class:h(["inline-block rounded-full w-4 h-4","bg-"+n])},null,2)],8,ne))),128))]),_:2},1032,["isShow"])),[[V,()=>m(e.id)]])]),_:2},1032,["onClick","style","class"]),i("div",se,[g(i("input",{"onUpdate:modelValue":n=>e.name=n,required:"",id:e.name,type:"text",placeholder:e.name,maxlength:"16",onKeydown:F(n=>"",["enter"]),class:h(["px-button-x py-button-y rounded-button-rounded w-full border border-line-color hover:bg-gray-light focus:outline focus:outline-0 text-nowrap cursor-text",e.id!=0?"bg-white text-black rounded-r-none":"bg-gray-light text-gray-text-light cursor-not-allowed pointer-events-none"])},null,42,re),[[A,e.name]]),e.id!=0?(o(),b(w,{key:0,onClick:l[1]||(l[1]=n=>C.value=!0),style:"white",class:h(["basis-1/6",e.id!=0?"rounded-l-none border-l-0":""])},{default:a(()=>[f(R),(o(),b(H,{to:"body"},[C.value?(o(),b(G,{key:0,onCancel:l[0]||(l[0]=n=>C.value=!1)},{title:a(()=>l[5]||(l[5]=[B(" Delete this tag? ")])),text:a(()=>l[6]||(l[6]=[B(' Are you sure you want to delete this tag? AIn all tasks this tag will be replaced with "Other". This action cannot be undone. ')])),buttonAction:a(()=>[f(w,{onClick:n=>I(e.id),style:"black",text:"Delete tag",class:""},null,8,["onClick"])]),_:2},1024)):M("",!0)]))]),_:2},1032,["class"])):M("",!0)])]))),128)),v(x).length<v(p).maxCount?(o(),s("div",ae,[f(w,{onClick:l[2]||(l[2]=e=>c.value=!c.value),style:Z(c.value?"white-unactive":"white"),class:h(["relative shrink-0 basis-1/6 before:absolute before:z-20 before:left-[50%] before:top-[50%] before:-translate-y-2/4 before:-translate-x-2/4 before:rounded-full",t.value.color?"before:bg-"+t.value.color+" before:rounded-full before:w-4 before:h-4":""])},{default:a(()=>[t.value.color?M("",!0):(o(),b(X,{key:0})),g((o(),b(D,{isShow:c.value,attach:"right",class:"rounded-t-button-rounded rounded-b-button-rounded min-h-[38px]"},{default:a(()=>[(o(!0),s(_,null,T(v(k),e=>(o(),s("li",{class:"flex flex-row justify-between items-center gap-3 px-3 py-2 text-nowrap cursor-pointer hover:bg-gray-light first:rounded-t-button-rounded last:rounded-b-button-rounded",key:e,onClick:$(n=>{c.value=!1,t.value.color=e},["stop"])},[i("div",{class:h(["inline-block rounded-full w-4 h-4","bg-"+e])},null,2)],8,ie))),128))]),_:1},8,["isShow"])),[[V,()=>c.value=!1]])]),_:1},8,["style","class"]),i("div",ue,[g(i("input",{required:"","onUpdate:modelValue":l[3]||(l[3]=e=>t.value.name=e),id:t.value,type:"text",placeholder:"Create New Tag",maxlength:"16",class:"px-button-x py-button-y rounded-button-rounded w-full bg-white text-black border border-line-color hover:bg-gray-light focus:outline focus:outline-0 text-nowrap cursor-text rounded-r-none"},null,8,de),[[A,t.value.name]]),f(w,{onClick:l[4]||(l[4]=e=>L()),style:"white",class:"rounded-l-none border-l-0 basis-1/6"},{default:a(()=>[f(oe)]),_:1})])])):(o(),s("div",ce,"The available number of tags has been reached"))])}}};export{ve as default};
