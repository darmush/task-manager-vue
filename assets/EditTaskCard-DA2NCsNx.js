const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Calendar-BVcrA0yL.js","assets/index-b2t7mZ1g.js","assets/index-DnKYgyQI.css","assets/ArrowIcon-Cpeu9zq_.js","assets/tags-CbQlWe1V.js"])))=>i.map(i=>d[i]);
import{o as i,c as b,a as o,r as g,j as c,v as C,k as M,d as p,e as P,n as f,t as _,b as a,w as r,f as m,u as $,p as j,m as S,g as T,x as L,_ as O}from"./index-b2t7mZ1g.js";import{_ as z,c as A,b as x,a as E}from"./List-nyWwAInw.js";import{_ as D,b as B,d as H}from"./tags-CbQlWe1V.js";const I={},N={class:"stroke-gray-text stroke-icon-width",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Z(n,s){return i(),b("svg",N,s[0]||(s[0]=[o("path",{d:"M10.4884 2.15484C10.1759 1.84225 9.75201 1.6666 9.31002 1.6665H3.33335C2.89133 1.6665 2.4674 1.8421 2.15484 2.15466C1.84228 2.46722 1.66669 2.89114 1.66669 3.33317V9.30984C1.66678 9.75183 1.84244 10.1757 2.15502 10.4882L9.40836 17.7415C9.78712 18.1179 10.2994 18.3291 10.8334 18.3291C11.3673 18.3291 11.8796 18.1179 12.2584 17.7415L17.7417 12.2582C18.1181 11.8794 18.3293 11.3671 18.3293 10.8332C18.3293 10.2992 18.1181 9.78693 17.7417 9.40817L10.4884 2.15484Z","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),o("path",{class:"fill-gray-text",d:"M6.25002 6.6665C6.48014 6.6665 6.66669 6.47996 6.66669 6.24984C6.66669 6.01972 6.48014 5.83317 6.25002 5.83317C6.0199 5.83317 5.83335 6.01972 5.83335 6.24984C5.83335 6.47996 6.0199 6.6665 6.25002 6.6665Z","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))}const K=D(I,[["render",Z]]),U={},q={class:"stroke-gray-text stroke-icon-width",width:"18",height:"20",viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function F(n,s){return i(),b("svg",q,s[0]||(s[0]=[o("path",{d:"M5.66667 1.6665V4.99984M12.3333 1.6665V4.99984M1.5 8.33317H16.5M3.16667 3.33317H14.8333C15.7538 3.33317 16.5 4.07936 16.5 4.99984V16.6665C16.5 17.587 15.7538 18.3332 14.8333 18.3332H3.16667C2.24619 18.3332 1.5 17.587 1.5 16.6665V4.99984C1.5 4.07936 2.24619 3.33317 3.16667 3.33317Z","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))}const R=D(U,[["render",F]]),W={class:"flex flex-row gap-4 text-base font-semibold placeholder:text-gray-text-light focus:outline focus:outline-0 focus-within:border-black border-b border-line-color"},G=["value"],J={class:"flex justify-between gap-8"},Q={class:"flex gap-2"},X={class:"flex gap-4"},v=256,le={__name:"EditTaskCard",props:{task:{type:Object,default:{title:"",description:"",id:Date.now(),done:!1,tag:null,date:null,pin:!1}},tagsStore:{type:Object},needCheckbox:{type:Boolean,default:!1},action:{type:String,default:"Confirm"}},emits:["cancel","done"],setup(n){const s=T(()=>O(()=>import("./Calendar-BVcrA0yL.js"),__vite__mapDeps([0,1,2,3,4]))),w=n,V=Object.assign({},w.task),e=g(V),u=g(!1),d=g(!1);function k(){e.value=Object.assign({},w.task)}return(h,t)=>{const y=L("click-outside");return i(),b("form",{onSubmit:t[9]||(t[9]=m(l=>{h.$emit("done",e.value),k()},["prevent"])),class:f(["flex flex-col min-h-80 max-w-[36rem] min-w-[34rem] my-8 mx-auto p-6 pt-12 gap-4 relative bg-white shadow-md border border-line-color rounded-card-rounded before:w-[calc(100%+2px)] before:h-6 before:absolute before:z-20 before:top-[-1px] before:left-[-1px] before:rounded-t-card-rounded",e.value.tag==null?"before:bg-gray-dark":"before:bg-"+n.tagsStore.getProperty(e.value.tag,"color")])},[o("div",W,[c(o("input",{required:"","onUpdate:modelValue":t[0]||(t[0]=l=>e.value.title=l),id:"title",type:"text",placeholder:"Title",maxlength:"64",onKeydown:M(l=>"",["enter"]),class:"w-full bg-transparent focus:outline focus:outline-0 pb-3"},null,544),[[C,e.value.title]]),o("label",{for:"title",class:"sr-only",value:e.value.title!==null?e.value.title:"Title"},null,8,G),n.needCheckbox?(i(),p(z,{key:0,class:"flex items-center h-5",check:e.value.done,onCheck:t[1]||(t[1]=l=>e.value.done=l)},null,8,["check"])):P("",!0)]),o("div",{class:f(["flex flex-col grow border-b pb-1",e.value.description.length>=v?"border-error focus-within:border-error":"border-line-color focus-within:border-black"])},[t[10]||(t[10]=o("label",{for:"description",class:"sr-only"},"Description",-1)),c(o("textarea",{"onUpdate:modelValue":t[2]||(t[2]=l=>e.value.description=l),id:"description",placeholder:"Write task descripthion here...",maxlength:v,class:"grow w-full bg-transparent resize-none placeholder:text-gray-text-light focus:outline focus:outline-0"},null,512),[[C,e.value.description]]),o("div",{class:f(["text-end pt-1",e.value.description.length>=v?"text-error font-medium":"text-gray-text-light"])},_(e.value.description.length||0)+"/"+_(v),3)],2),o("div",J,[o("div",Q,[a(x,{onClick:t[4]||(t[4]=m(l=>u.value=!u.value,["stop"])),colorButton:e.value.tag==null?null:n.tagsStore.getProperty(e.value.tag,"color"),text:e.value.tag==null?"Tag":n.tagsStore.getProperty(e.value.tag,"name")},{iconAfter:r(()=>[a(K)]),default:r(()=>[c((i(),p(B,{isShow:u.value,attach:"top",class:"min-w-40"},{default:r(()=>[a(A,{items:n.tagsStore.tags,"need-icon":!0,onSelectItem:t[3]||(t[3]=l=>e.value.tag=l.id)},null,8,["items"])]),_:1},8,["isShow"])),[[y,()=>u.value=!u.value]])]),_:1},8,["colorButton","text"]),a(x,{onClick:t[6]||(t[6]=m(l=>d.value=!d.value,["stop"])),colorButton:e.value.date==null?null:"gray-dark",text:e.value.date==null?"Date":e.value.date},{iconAfter:r(()=>[a(R)]),default:r(()=>[c((i(),p(B,{isShow:d.value,attach:"top"},{default:r(()=>[a($(s),{selDay:e.value.date,onSelectedDay:t[5]||(t[5]=l=>e.value.date=$(H).getDayFromDate(l))},null,8,["selDay"])]),_:1},8,["isShow"])),[[y,()=>d.value=!d.value]])]),_:1},8,["colorButton","text"]),a(x,{colorButton:e.value.pin?"gray-dark":"",colorPin:"dark"},{iconBefore:r(()=>[a(E,{colorPin:"dark",class:f("h-5"),isPinned:e.value.pin,onPinned:t[7]||(t[7]=l=>e.value.pin=l)},null,8,["isPinned"])]),_:1},8,["colorButton"])]),o("div",X,[a(S,{text:"Cancel",style:j(e.value.title!=""||e.value.description!=""||e.value.date!=null||e.value.tag!=null||e.value.pin!=!1?"white":"white-unactive"),type:"button",onClick:t[8]||(t[8]=l=>n.action=="Confirm"?h.$emit("cancel"):k())},null,8,["style"]),a(S,{type:"submit",text:n.action,style:"black"},null,8,["text"])])])],34)}}};export{le as default};
