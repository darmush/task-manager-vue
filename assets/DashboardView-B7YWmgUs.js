const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/EditTaskCard-B6VYV5vA.js","assets/index-CT5RfRiI.js","assets/index-DnKYgyQI.css","assets/List-CyGQwa1M.js","assets/tags-mfra6I1X.js"])))=>i.map(i=>d[i]);
import{o as l,c as v,a as g,b as r,r as k,n as E,t as h,d as y,e as b,u as d,w as m,T as F,f as D,g as q,_ as Q,s as U,h as j,i as Z,j as B,v as G,k as H,F as J,l as W,m as T,p as M,q as N,x as X}from"./index-CT5RfRiI.js";import{_ as Y,a as ee,b as V,c as L}from"./List-CyGQwa1M.js";import{_ as te,u as se,a as ae,b as _,d as oe}from"./tags-mfra6I1X.js";import{A as O}from"./ArrowIcon-D6wTLDlP.js";import{D as ne,_ as le,a as ie}from"./Modal-BMXik_kU.js";const re={},ue={class:"stroke-gray-text-light stroke-icon-width",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function de(s,u){return l(),v("svg",ue,u[0]||(u[0]=[g("path",{d:"M11.4 3.40045L14.6 6.60052M16.3393 4.84999C16.7623 4.42712 16.9999 3.85354 17 3.25544C17.0001 2.65733 16.7626 2.0837 16.3397 1.66072C15.9168 1.23774 15.3433 1.00008 14.7452 1C14.1471 0.999925 13.5734 1.23745 13.1505 1.66032L2.47356 12.3398C2.28781 12.525 2.15045 12.753 2.07356 13.0038L1.01675 16.4855C0.996072 16.5546 0.99451 16.6281 1.01223 16.6981C1.02995 16.7681 1.06628 16.832 1.11739 16.8831C1.16849 16.9341 1.23245 16.9703 1.30248 16.9879C1.37251 17.0055 1.446 17.0039 1.51515 16.9831L4.99758 15.927C5.24812 15.8508 5.47613 15.7143 5.66159 15.5294L16.3393 4.84999Z","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))}const ce=te(re,[["render",de]]),ve={class:""},fe={__name:"Edit",emits:["edit"],setup(s){return(u,c)=>(l(),v("div",ve,[r(ce,{onClick:c[0]||(c[0]=a=>u.$emit("edit")),class:"w-4 h-4 cursor-pointer"})]))}},ke={class:""},me={__name:"Delete",emits:["delete"],setup(s){return(u,c)=>(l(),v("div",ke,[r(ne,{onClick:c[0]||(c[0]=a=>u.$emit("delete")),class:"w-4 h-4 cursor-pointer"})]))}},xe={class:"text-gray-text-light"},ye={key:0,class:"text-gray-text-light ml-7 mt-1"},ge={__name:"TaskCard",props:{task:{type:Object},tagsStore:{type:Object},taskStore:{type:Object}},setup(s){const u=q(()=>Q(()=>import("./EditTaskCard-B6VYV5vA.js"),__vite__mapDeps([0,1,2,3,4]))),a=s.taskStore,w=k(!1);function i(f){f!==""&&(this.isShowDescription=!this.isShowDescription)}const x=k(!1);function p(f){for(const[e,o]of Object.entries(f))a.editTask(f.id,e,o)}return(f,e)=>(l(),v("li",{class:E(["relative py-5 pl-8 pr-4 before:h-full before:w-3.5 before:absolute before:top-0 before:left-0 first:rounded-t-card-rounded first:before:rounded-tl-card-rounded last:rounded-b-card-rounded last:before:rounded-bl-card-rounded hover:bg-gray-light","before:bg-"+s.tagsStore.getProperty(s.task.tag,"color")+" "+(s.task.pin?"border-gray-text-light":"border-line-color")+" "+(s.task.done?"bg-gray-ligh text-gray-text-light line-through":"")]),onClick:e[10]||(e[10]=D(o=>i(s.task.description),["self"]))},[g("div",{onClick:e[9]||(e[9]=D(o=>i(s.task.description),["self"])),class:"flex flex-row items-start justify-between gap-3"},[r(Y,{class:"flex items-center h-5",check:s.task.done,onCheck:e[0]||(e[0]=o=>s.task.done=o)},null,8,["check"]),g("div",{onClick:e[1]||(e[1]=o=>i(s.task.description)),class:E(["mr-auto cursor-pointer",w.value?"":"truncate"])},h(s.task.title),3),s.task.description!==""?(l(),y(O,{key:0,onClick:e[2]||(e[2]=o=>i(s.task.description)),class:E(["flex items-center h-5 cursor-pointer",w.value?"rotate-180":""])},null,8,["class"])):b("",!0),g("div",xe,h(s.task.date),1),r(ee,{onPinned:e[3]||(e[3]=o=>d(a).editTask(s.task.id,"pin",o)),class:"flex items-center h-5",isPinned:s.task.pin},null,8,["isPinned"]),r(fe,{onEdit:e[4]||(e[4]=o=>x.value=!0),class:"flex items-center h-5"}),(l(),y(F,{to:"body"},[x.value?(l(),y(le,{key:0,onCancel:e[7]||(e[7]=o=>x.value=!1)},{default:m(()=>[x.value?(l(),y(d(u),{key:0,onCancel:e[5]||(e[5]=o=>x.value=!1),task:s.task,taskStore:d(a),tagsStore:s.tagsStore,needCheckbox:!0,action:"Confirm",onDone:e[6]||(e[6]=o=>{p(o),x.value=!1})},null,8,["task","taskStore","tagsStore"])):b("",!0)]),_:1})):b("",!0)])),r(me,{onDelete:e[8]||(e[8]=o=>d(a).deleteTask(s.task.id)),class:"flex items-center h-5",task:s.task},null,8,["task"])]),w.value?(l(),v("div",ye,h(s.task.description),1)):b("",!0)],2))}},be={class:"flex flex-col mx-auto my-6 gap-4 max-w-xl"},we={key:0,class:"flex flex-row gap-2"},pe=["id"],Ce={key:1,class:"bg-white shadow-md border border-line-color rounded-card-rounded"},he={class:"flex flex-col mx-auto"},Se={key:2,class:"flex flex-row justify-between items-center"},$e={class:"basis-1/3 justify-start"},Te={key:0,class:"text-center text-gray-text-light text-nowrap basis-1/3"},De={class:"flex gap-2 basis-1/3 justify-end"},Ae={key:3,class:"text-center mt-6"},Pe={__name:"DashboardView",setup(s){const u=k(!1),c=k(!1),a=se(),{tasks:w}=U(a),i=k(a.sortedTasks),x=ae(),p=x.tags,f=k(""),e=k(1),o=k(5),C=j(()=>Math.ceil(i.value.length/o.value));j(()=>i.value.filter($=>$.title.toLowerCase().includes(f.value.toLowerCase())));const z=j(()=>i.value.slice((e.value-1)*o.value,e.value*o.value)),S=k(!1),A=k("All"),K=[{name:"All",action:function(){i.value=a.sortedTasks}},{name:"Today",action:function(){const $=oe.getToday();i.value=a.filterTasks("date",$)}},{name:"Overdue",action:function(){i.value=a.filterTasksByOverdue(!0)}},{name:"Future",action:function(){i.value=a.filterTasksByOverdue(!1)}},{name:"Done",action:function(){i.value=a.filterTasks("done",!0)}},{name:"Not Done",action:function(){i.value=a.filterTasks("done",!1)}}],P=k("5"),R=[{name:"5",action:function(){o.value=5}},{name:"10",action:function(){o.value=10}},{name:"Show All",action:function(){o.value=a.tasksCount}}];return Z(w,()=>{i.value=a.sortedTasks},{deep:!0}),($,t)=>{const I=X("click-outside");return l(),v("div",be,[d(a).tasksCount?(l(),v("div",we,[r(V,{onClick:t[2]||(t[2]=D(n=>u.value=!u.value,["stop"])),colorButton:"white",text:A.value},{iconAfter:m(()=>[r(O,{class:"stroke-gray-text"})]),default:m(()=>[B((l(),y(_,{isShow:u.value,attach:"bottom",class:"min-w-40"},{default:m(()=>[r(L,{items:K,onSelectItem:t[0]||(t[0]=n=>{A.value=n.name,n.action(),e.value=1})}),r(L,{items:d(p),"need-icon":!0,onSelectItem:t[1]||(t[1]=n=>{A.value=d(p)[n.id].name,i.value=d(a).filterTasks("tag",d(p)[n.id].id),e.value=1})},null,8,["items"])]),_:1},8,["isShow"])),[[I,()=>u.value=!u.value]])]),_:1},8,["text"]),r(V,{onClick:t[4]||(t[4]=D(n=>c.value=!c.value,["stop"])),colorButton:"white",text:P.value},{iconAfter:m(()=>[r(O,{class:"stroke-gray-text"})]),default:m(()=>[B((l(),y(_,{isShow:c.value,attach:"bottom"},{default:m(()=>[r(L,{items:R,onSelectItem:t[3]||(t[3]=n=>{P.value=n.name,n.action()})})]),_:1},8,["isShow"])),[[I,()=>c.value=!c.value]])]),_:1},8,["text"]),B(g("input",{onInput:t[5]||(t[5]=n=>i.value=d(a).searchedTasks(f.value)),"onUpdate:modelValue":t[6]||(t[6]=n=>f.value=n),id:f.value,type:"text",placeholder:"Search...",maxlength:"30",onKeydown:H(n=>"",["enter"]),class:"basis-1/2 ml-auto self-end px-button-x py-button-y rounded-button-rounded w-full border border-line-color hover:bg-gray-light focus:outline focus:outline-0 text-nowrap cursor-text bg-white text-black"},null,40,pe),[[G,f.value]])])):b("",!0),i.value.length>0?(l(),v("div",Ce,[g("ul",he,[(l(!0),v(J,null,W(z.value,n=>(l(),y(ge,{key:n,task:n,tagsStore:d(x),taskStore:d(a)},null,8,["task","tagsStore","taskStore"]))),128))])])):b("",!0),i.value.length>0?(l(),v("div",Se,[g("div",$e,[r(T,{onClick:t[7]||(t[7]=n=>S.value=!0),text:"Clear all",style:"black",class:""}),(l(),y(F,{to:"body"},[S.value?(l(),y(ie,{key:0,onCancel:t[9]||(t[9]=n=>S.value=!1)},{title:m(()=>t[12]||(t[12]=[N(" Delete all tasks ")])),text:m(()=>t[13]||(t[13]=[N(" Are you sure you want to delete all your tasks? All tasks will be permanently deleted. This action cannot be undone. ")])),buttonAction:m(()=>[r(T,{onClick:t[8]||(t[8]=n=>{d(a).deleteAll(),S.value=!1,i.value=[]}),style:"black",text:"Clear all",class:""})]),_:1})):b("",!0)]))]),C.value>=1?(l(),v("p",Te,h(e.value>0?e.value:1)+" / "+h(C.value),1)):b("",!0),g("div",De,[r(T,{style:M(e.value==1?"white-unactive":"white"),type:"button",text:"Previous",onClick:t[10]||(t[10]=n=>e.value>1?--e.value:1)},null,8,["style"]),r(T,{style:M(e.value==C.value?"white-unactive":"white"),type:"button",text:"Next",onClick:t[11]||(t[11]=n=>e.value<C.value?++e.value:C.value)},null,8,["style"])])])):(l(),v("p",Ae,"No tasks"))])}}};export{Pe as default};
